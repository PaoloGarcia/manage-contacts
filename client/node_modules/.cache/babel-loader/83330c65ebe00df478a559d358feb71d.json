{"ast":null,"code":"import { combineEpics } from \"redux-observable\";\nimport { Observable } from \"rxjs\";\nimport \"rxjs/add/operator/switchMap\";\nimport \"rxjs/add/operator/map\";\nimport \"rxjs/add/operator/catch\";\nimport \"rxjs/add/observable/of\";\nimport { ajax } from \"rxjs/observable/dom/ajax\";\nimport { GET_CONTACTS } from \"../actions/types\";\nimport { getContactsSuccess, getContactsFailure } from \"../actions\";\n\nconst getContactsEpic = action$ => {\n  return action$.ofType(GET_CONTACTS).switchMap(() => {\n    return ajax.getJSON(\"http://localhost:5000/contacts\").map();\n  }).map(contacts => {\n    console.log(contacts);\n    getContactsSuccess(contacts);\n  }).catch(error => Observable.of(getContactsFailure(error.message)));\n};\n\nexport const rootEpic = combineEpics(getContactsEpic);","map":{"version":3,"sources":["/Users/pgarcia/Desktop/manage-contacts/client/src/epics/index.js"],"names":["combineEpics","Observable","ajax","GET_CONTACTS","getContactsSuccess","getContactsFailure","getContactsEpic","action$","ofType","switchMap","getJSON","map","contacts","console","log","catch","error","of","message","rootEpic"],"mappings":"AAAA,SAASA,YAAT,QAA6B,kBAA7B;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAO,6BAAP;AACA,OAAO,uBAAP;AACA,OAAO,yBAAP;AACA,OAAO,wBAAP;AACA,SAASC,IAAT,QAAqB,0BAArB;AAEA,SACIC,YADJ,QAEO,kBAFP;AAIA,SACIC,kBADJ,EAEIC,kBAFJ,QAGO,YAHP;;AAKA,MAAMC,eAAe,GAAIC,OAAD,IAAa;AACjC,SAAOA,OAAO,CACTC,MADE,CACKL,YADL,EAEFM,SAFE,CAEQ,MAAM;AACb,WAAOP,IAAI,CACNQ,OADE,CACM,gCADN,EAEFC,GAFE,EAAP;AAGH,GANE,EAOFA,GAPE,CAOEC,QAAQ,IAAI;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAR,IAAAA,kBAAkB,CAACQ,QAAD,CAAlB;AACH,GAVE,EAWFG,KAXE,CAWIC,KAAK,IAAIf,UAAU,CAACgB,EAAX,CAAcZ,kBAAkB,CAACW,KAAK,CAACE,OAAP,CAAhC,CAXb,CAAP;AAYH,CAbD;;AAeA,OAAO,MAAMC,QAAQ,GAAGnB,YAAY,CAACM,eAAD,CAA7B","sourcesContent":["import { combineEpics } from \"redux-observable\";\nimport { Observable } from \"rxjs\";\nimport \"rxjs/add/operator/switchMap\";\nimport \"rxjs/add/operator/map\";\nimport \"rxjs/add/operator/catch\";\nimport \"rxjs/add/observable/of\"\nimport { ajax } from \"rxjs/observable/dom/ajax\";\n\nimport {\n    GET_CONTACTS,\n} from \"../actions/types\";\n\nimport {\n    getContactsSuccess,\n    getContactsFailure,\n} from \"../actions\";\n\nconst getContactsEpic = (action$) => {\n    return action$\n        .ofType(GET_CONTACTS)\n        .switchMap(() => {\n            return ajax\n                .getJSON(\"http://localhost:5000/contacts\")\n                .map()\n        })\n        .map(contacts => {\n            console.log(contacts);\n            getContactsSuccess(contacts);\n        })\n        .catch(error => Observable.of(getContactsFailure(error.message)));\n}\n\nexport const rootEpic = combineEpics(getContactsEpic);"]},"metadata":{},"sourceType":"module"}